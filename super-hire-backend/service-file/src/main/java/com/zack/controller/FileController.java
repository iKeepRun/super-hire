package com.zack.controller;import com.zack.base.BaseInfoProperties;import com.zack.common.CommonResult;import lombok.extern.slf4j.Slf4j;import org.springframework.web.bind.annotation.*;import org.springframework.web.multipart.MultipartFile;import javax.servlet.http.HttpServletRequest;import java.io.File;import java.io.IOException;@Slf4j@RestController@RequestMapping("file")public class FileController extends BaseInfoProperties {    private static final String host = "http://192.168.1.104:8000/static/face/";    @GetMapping("hello")    public String hello() {        return "hello file";    }    @PostMapping("uploadFace")    public CommonResult uploadFace(@RequestParam("file") MultipartFile file,                                   @RequestParam("userId") String userId,                                   HttpServletRequest request) throws IOException {        //获取文件的原始名字        String originalFilename = file.getOriginalFilename();        //获取文件的后缀名        String suffix = originalFilename.substring(originalFilename.lastIndexOf("."));        String fileName = userId + suffix;        //获取文件的存储路径        String fileUrl = "/Users/chenzhiqiang/Downloads/temp" + File.separator + "face" + File.separator + fileName;        File fileNew = new File(fileUrl);        //如果文件夹不存在，就创建        if (!fileNew.getParentFile().exists()) {            log.info("文件夹不存在，创建文件夹");            //创建多级目录            fileNew.getParentFile().mkdirs();        }        //上传文件到服务器        file.transferTo(fileNew);        //返回结果        String localUrl = host + fileName;        log.info("生成的路径{}", localUrl);        return CommonResult.success(localUrl);    }}